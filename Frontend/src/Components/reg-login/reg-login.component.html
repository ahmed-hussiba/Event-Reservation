<!-- <app-guest-header-links></app-guest-header-links> -->

<div class="parent">


  <div class="section mainSection ">

    <div class="d-flex justify-content-center w-100 ">
      <h6 class="mt-3 main-header"><span>Log In </span><span>Sign Up</span></h6>
    </div>


    <input class="checkbox" type="checkbox" id="reg-log" name="reg-log" />
    <label for="reg-log"></label>

    <div class="card-3d-wrap mx-auto w-100">
      <div class="card-3d-wrapper">
        <div class="card-front">
          <div class="center-wrap">
            <div class="section  text-center m-auto">
              <!-- <h4 class="">Log In</h4> -->
              <form class="form-parent" [formGroup]="mySignInFormGroup">
                <div class="form-group">
                  <input formControlName="email" type="email" form name="email" class="form-style"
                    placeholder="Your Email" id="email" autocomplete="off" />
                  @if(!emailIsValid) {
                  <p style="
                            font-size: small;
                            color: red;
                            text-align: center;
                          ">
                    invalid Email
                  </p>
                  }
                </div>
                <div class="form-group mt-2">
                  <input formControlName="password" type="password" name="password" class="form-style"
                    placeholder="Your Password" id="password" autocomplete="off" />
                  @if(!passwordIsValid) {
                  <p style="
                            font-size: small;
                            color: red;
                            text-align: center;
                          ">
                    Invalid Password
                  </p>
                  }
                </div>
              </form>

              <a  class="btn mt-4" (click)="submitSignIn()">submit</a>

              @if (logInError == null) {

              } @else {


              @if (logInError) {
              <p class="error">Error Logging in. Please check your email/password</p>
              } @else {
              <p class="success">Logged In Succefully</p>
              }

              }

              <div class="w-100">
                <p class="mb-0 mt-4  text-center ">
                  <a href="#0" class="pb-3 link">Forgot your password?</a>
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="card-back">
          <div class="center-wrap">
            <div class="section ">
              <form class="form-parent" [formGroup]="mySignUpFormGroup">
                <!-- <div class="form-group">
                  <input formControlName="email" type="email" name="logemail" class="form-style"
                    placeholder="Your Email" id="logemail" autocomplete="off" />
                  @if(isValidRegisterEmail)
                  {
                  <p style="
                              border-color: ;
                            ">
                    invalid city
                  </p>
                  }
                </div> -->
                <!-- <div class="form-group">
                  <input formControlName="email" style="border:2px solid red;" *ngIf="!isValidRegisterEmail"
                    type="email" name="logemail" class="form-style" placeholder="Your Email" id="logemail"
                    autocomplete="off"/>
                  <input formControlName="email"*ngIf="isValidRegisterEmail"
                    type="email" name="logemail" class="form-style" placeholder="Your Email" id="logemail"
                    autocomplete="off" />
                </div> -->

                <div class="form-group">
                  <input formControlName="email" [ngClass]="{'form-style': true, 'border-red': !isValidRegisterEmail}"
                    type="email" name="email" class="form-style" placeholder="Your Email" id="email"
                    autocomplete="off"/>
                  
                </div>





                <div class="form-group">
                  <input formControlName="username" [ngClass]="{'form-style': true, 'border-red': !isValidRegisterUserName}" type="text" name="username" class="form-style"
                    placeholder="your username" id="username" autocomplete="off" />


                </div>

                <div class="form-group ">
                  <input formControlName="password" [ngClass]="{'form-style': true, 'border-red': !isValidRegisterPassword}"  type="password" name="password" class="form-style"
                    placeholder="Your Password" id="password" autocomplete="off" />
                </div>


                <div class="form-group">
                  <input formControlName="city" [ngClass]="{'form-style': true, 'border-red': !isValidRegisterCity}"  type="text" name="city" class="form-style me-2" placeholder="City"
                    autocomplete="off" />

                  <input formControlName="country" [ngClass]="{'form-style': true, 'border-red': !isValidRegisterCountry}"  type="text" name="country" class="form-style"
                    placeholder="Country" autocomplete="off" />

                </div>
                <div class="gender-inputs">
                  <div class="form-check">
                    <input formControlName="gender" class="form-check-input" type="radio" name="gender" id="flexRadioDefault1"
                    value="F" />
                    <label class="form-check-label" for="flexRadioDefault1">
                      <svg xmlns="http://www.w3.org/2000/svg" class="visibility-controller" viewBox="0 0 128 128"
                        width="1.5rem" height="1.5rem">
                        <path fill="#fff" d="M64 37A23 23 0 1 0 64 83A23 23 0 1 0 64 37Z" />
                        <path fill="#dfe8f4"
                          d="M26.9,115.6C34.3,102.7,48.1,94,64,94h0c15.9,0,29.7,8.7,37.1,21.6L101,119H27L26.9,115.6z" />
                        <path fill="#444b54"
                          d="M101.1 118.6c-1 0-2.1-.5-2.6-1.5C91.4 104.7 78.2 97 64 97c-14.2 0-27.4 7.7-34.5 20.1-.8 1.4-2.6 1.9-4.1 1.1-1.4-.8-1.9-2.7-1.1-4.1C32.4 99.9 47.6 91 64 91c16.4 0 31.6 8.9 39.7 23.1.8 1.4.3 3.3-1.1 4.1C102.1 118.5 101.6 118.6 101.1 118.6zM105 43c0-8.3-6.7-15-15-15 0 0 0 0 0 0-5.2-9-14.9-15-26-15-16.5 0-30 13.5-30 30 0 5.3 1.4 10.5 4.1 15.1 0 .6-.1 1.3-.1 1.9 0 14.3 11.7 26 26 26 8.8 0 16.5-4.4 21.2-11 8.2-.1 14.8-6.8 14.8-15 0-1.8-.3-3.5-.9-5.1C102.7 52.2 105 47.9 105 43zM84.5 47.2c-.6 1-1.2 1.9-1.9 2.9-.4.6-.6 1.3-.3 2 1.2 2.7 1.8 5.8 1.6 9C83.4 71.3 75 79.5 64.9 80 53.5 80.5 44 71.3 44 60c0 0 0 0 0 0 0-1.1.9-1.9 2-1.9h7.1c3.1 0 6.4-.4 9.7-1.4 6.6-2 12-6 15.3-10.7 0 0 0 0 0 0 .4-.6.8-1.2 1.2-1.9.9-1.6 3.1-2 4.6-.8C85.1 44.2 85.3 45.9 84.5 47.2z" />
                      </svg>
                    </label>
                  </div>
                  <div class="form-check ">
                    <input formControlName="gender" class="form-check-input" type="radio" name="gender" id="flexRadioDefault2"
                      checked value="M"/>
                    <label class="form-check-label" for="flexRadioDefault2">
                      <svg xmlns="http://www.w3.org/2000/svg" class="visibility-controller" viewBox="0 0 128 128"
                        width="1.5rem" height="1.5rem">
                        <path fill="#fff"
                          d="M87 59.7c0 12.7-10.3 23-23 23s-23-10.3-23-23V32.3l46 5.5V59.7zM101.1 115.6C93.7 102.7 79.9 94 64 94h0c-15.9 0-29.7 8.7-37.1 21.6L27 119h74L101.1 115.6z" />
                        <path fill="#444b54"
                          d="M26.9 118.6c-.5 0-1-.1-1.5-.4-1.4-.8-1.9-2.6-1.1-4.1C32.4 99.9 47.6 91 64 91s31.6 8.9 39.7 23.1c.8 1.4.3 3.3-1.1 4.1s-3.3.3-4.1-1.1C91.4 104.7 78.2 97 64 97c-14.2 0-27.4 7.7-34.5 20.1C29 118 28 118.6 26.9 118.6zM77.6 29.1l-.4-.6c-2.9-4.1-7.7-6.6-12.7-6.6H56c-12.7 0-23 10.3-23 23v0c0 1.7 1.3 3 3 3h5.2c.1 0 .1 0 .2 0 11.5 0 23.2 0 31.6-7.5v.1c.4-.4.8-.7 1.1-1.1 1.1-1.2 3-1.4 4.2-.3 1.3 1.1 1.4 3.1.2 4.4-.5.5-.9.9-1.4 1.4-1.3 1.3-.8 3.5.9 4.2l0 0c1 .4 2.1.6 3.2.7 1.5.2 2.7 1.4 2.7 3v6.8c0 10.6-8 19.7-18.6 20.4C53.8 80.8 44.1 71.6 44 60.1c0-1.6-1.2-3-2.8-3.1-1.7-.1-3.2 1.3-3.2 3 0 14.3 11.7 26 26 26 13.9 0 25.3-10.9 26-24.7 0-.1 0-.2 0-.3V47v-3-1C90 35.8 84.6 29.9 77.6 29.1z" />
                      </svg>
                    </label>
                  </div>
                </div>

                <div class="signup-upload">
                  <div class="upload-svg">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1rem" height="1rem">
                      <path
                        d="M220.6 121.2L271.1 96 448 96v96H333.2c-21.9-15.1-48.5-24-77.2-24s-55.2 8.9-77.2 24H64V128H192c9.9 0 19.7-2.3 28.6-6.8zM0 128V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H271.1c-9.9 0-19.7 2.3-28.6 6.8L192 64H160V48c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16l0 16C28.7 64 0 92.7 0 128zM168 304a88 88 0 1 1 176 0 88 88 0 1 1 -176 0z" />
                    </svg>
                  </div>
                  <div class="w-50 visibility-controller">
                    
                    <label for="fileInput" class="custom-upload">Choose Image</label>
                    <input formControlName="fileUpload" (change)="triggerFileInput($event)" class="upload-btn" type="file" id="fileInput" style="display: none;"> 
                    
                    <!-- <button class="custom-upload" (click)="triggerFileInput($event)">
                      <p>Choose Image</p>
                    </button> -->
                  </div>
                </div>




                <div class="back-submit-btn ">
                  <a class="btn" (click)="submitSignUp()">submit</a>
                </div>
                @if(!isValidRegisterEmail){

                <p style="
                              font-size: small;
                              color: red;
                              text-align: center;
                            ">
                  invalid email
                </p>
                }
                @else if (!isValidRegisterUserName){
                <p style="
                              font-size: small;
                              color: red;
                              text-align: center;
                            ">
                  invalid username
                </p>
                }
                @else if(!isValidRegisterPassword)
                {
                <p style="
                              font-size: small;
                              color: red;
                              text-align: center;
                            ">
                  invalid password
                </p>
                }
                @else if(!isValidRegisterCity)
                {
                <p style="
                              font-size: small;
                              color: red;
                              text-align: center;
                            ">
                  invalid city
                </p>
                }
                @else if(!isValidRegisterCountry)
                {
                <p style="
                              font-size: small;
                              color: red;
                              text-align: center;
                            ">
                  invalid country
                </p>
                }


                @if (registerError == null) {

                } @else {
  
  
                @if (registerError) {
                <p class="error">Error Registering. Please re-enter your data</p>
                } @else {
                <p class="success">Registered Succefully</p>
                }
  
                }
              </form>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>