<app-user-header-links></app-user-header-links>
  <div class="container w-100 mt-5 eventsContainer  border border-2">
    <div class="search-container">
      <input class="search-input" (ngModelChange)="onInputChange($event)" [(ngModel)]="EvName" type="text" id="search-bar" placeholder="What can I help you with today?">
      <i class="bi bi-search"></i>
    </div>

    @defer (on timer(1000ms)) {
    @if(allEv &&flag==true){
      @for (event of allEv; track $index) {
            <div class="card mt-4 m-auto" style="width: 80vw">
              <div class="d-flex flex-xs-column flex-md-row">
                <img src="data:image/jpg;base64,{{ event.imgBuffer }}" class="card-img-top w-75 xsmallRow" alt="..." />
                <div class="card-body d-flex col-3 flex-column align-items-end xsmallRow">
                  <h5 class="card-title w-100 h-25">{{ event.event.name }}</h5>
                  <p class="card-text w-100 h-50 mb-3">{{ event.event.description }}</p>
                  
                  <button type="button" class="button__book" routerLink="/eventdetails/{{event.event._id}}" (click)="GoToEvent(event.event._id)">
                    <span class="button__text">Add Item</span>
                    <span class="button__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24"
                      stroke-width="2" stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" height="24"
                        fill="none" class="svg">
                        <line y2="19" y1="5" x2="12" x1="12"></line>
                        <line y2="12" y1="12" x2="19" x1="5"></line>
                      </svg></span>
                  </button>
                </div>
              </div>
            </div>
            }
    }
    @if(filteredItems)
    {
    @for (event of filteredItems; track $index) {
      <div class="card mt-4 m-auto" style="width: 80vw">
        <div class="d-flex flex-xs-column flex-md-row">
          <img src="data:image/jpg;base64,{{ event.imgBuffer }}" class="card-img-top w-75 xsmallRow" alt="..." />
        <div class="card-body d-flex col-3 flex-column align-items-end xsmallRow">
          <h5 class="card-title w-100 h-25">{{ event.event.name }}</h5>
          <p class="card-text w-100 h-50 mb-3">{{ event.event.description }}</p>
          
          <button type="button" class="button__book" routerLink="eventdetails" (click)="GoToEvent(event.event._id)">
            <span class="button__text">Add Item</span>
            <span class="button__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24"
                stroke-width="2" stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" height="24"
                fill="none" class="svg">
                <line y2="19" y1="5" x2="12" x1="12"></line>
                <line y2="12" y1="12" x2="19" x1="5"></line>
              </svg></span>
          </button>
        </div>
      </div>
      
    </div>
    
    }
    
  }
  
  }
  
  @placeholder {
    <div class="spinner">
      <div class="spinner-border text-success" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  }
  
  </div>
  <app-footer></app-footer>
  